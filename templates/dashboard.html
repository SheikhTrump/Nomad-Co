<!-- templates\dashboard.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - NomadNest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #0c5461; 
            color: #d1d5db;
        }
        .card {
            background-color: #1f2937;
            border: 1px solid #374151;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(70, 224, 193, 0.1), 0 4px 6px -2px rgba(70, 224, 193, 0.05);
        }
        .card-icon {
            background-color: #374151;
            color: #46e0c1;
        }
        /* Blinking animation for the suggestions button */
        @keyframes blink {
            50% {
                background-color: #a9ffe5;
                border-color: #a9ffe5;
                transform: scale(1.05);
            }
        }
        .blinking-suggestion {
            animation: blink 1.5s ease-in-out infinite;
            border: 2px solid #46e0c1;
        }
        .btn-logout {
            background-color: #374151;
            color: #d1d5db;
        }
        .btn-logout:hover {
            background-color: #4b5563;
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <!-- Header Section -->
        <div class="flex justify-between items-center mb-10">
            <div>
                <h1 class="text-3xl font-bold text-white">
                    {% if session.role == 'admin' %}
                        Admin Dashboard
                    {% elif session.role == 'host' %}
                        Host Dashboard
                    {% elif session.role == 'traveler' %}
                        Welcome, {{ session.first_name }}!
                    {% endif %}
                </h1>
                <p class="text-gray-400 mt-1">
                    {% if session.role == 'traveler' %}
                        Your User ID is: <strong>{{ session.user_id }}</strong>
                    {% else %}
                        Manage your platform activities from here.
                    {% endif %}
                </p>
            </div>
            <a class="btn-logout py-2 px-4 rounded-lg font-semibold transition-colors duration-200" href="{{ url_for('auth.logout') }}">
                <i class="fas fa-sign-out-alt mr-2"></i>Logout
            </a>
        </div>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
            <!-- Admin View -->
            {% if session.role == 'admin' %}
            <a href="{{ url_for('analytics.dashboard') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-chart-line fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">View Analytics</h2>
                <p class="text-gray-400 mt-2">Access user data, booking trends, and revenue reports.</p>
            </a>
            {% endif %}

            <!-- Host View -->
            {% if session.role == 'host' %}
            <a href="{{ url_for('space_bp.create_space') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-plus-circle fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">Create a Space</h2>
                <p class="text-gray-400 mt-2">Add a new listing for travelers to discover and book.</p>
            </a>
            <a href="{{ url_for('space_bp.get_my_spaces_route') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-home fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">My Spaces</h2>
                <p class="text-gray-400 mt-2">View, manage, and edit all of your active listings.</p>
            </a>
            <a href="{{ url_for('payout.view_payouts') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-dollar-sign fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">My Payouts</h2>
                <p class="text-gray-400 mt-2">Track your earnings and view your booking payment history.</p>
            </a>
            {% endif %}

            <!-- Traveler View -->
            {% if session.role == 'traveler' %}
            <a href="{{ url_for('space_filters.view_spaces') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-search-location fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">Find a Space</h2>
                <p class="text-gray-400 mt-2">Explore our listings to find your next home away from home.</p>
            </a>
            <a href="{{ url_for('traveler_profiles.view_traveler_profile') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-user fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">My Profile</h2>
                <p class="text-gray-400 mt-2">Update your personal information and travel preferences.</p>
            </a>
            <a href="{{ url_for('traveler_profiles.booking_history') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-history fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">My Bookings</h2>
                <p class="text-gray-400 mt-2">View your past and upcoming booking history.</p>
            </a>
            <a href="{{ url_for('suggestions.view_suggestions') }}" class="card rounded-xl p-6 block {% if session.get('new_suggestions') %}blinking-suggestion{% endif %}">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-lightbulb fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">Popular Spots</h2>
                <p class="text-gray-400 mt-2">Discover places nearby that are popular with other nomads.</p>
            </a>
            <a href="{{ url_for('favorites.show_favorites') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-heart fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">My Favorites</h2>
                <p class="text-gray-400 mt-2">See all the spaces you've saved for future trips.</p>
            </a>
             <a href="{{ url_for('traveler_profiles.emergency_contacts') }}" class="card rounded-xl p-6 block">
                <div class="flex items-center justify-center card-icon w-12 h-12 rounded-lg mb-4">
                    <i class="fas fa-first-aid fa-lg"></i>
                </div>
                <h2 class="text-xl font-bold text-white">Emergency Contacts</h2>
                <p class="text-gray-400 mt-2">Manage your list of emergency contacts for safety.</p>
            </a>
            {% endif %}
        </div>
    </div>
</body>
</html>
